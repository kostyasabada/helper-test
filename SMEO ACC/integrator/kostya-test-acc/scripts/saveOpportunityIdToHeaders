if (body.errorOccured != null) {
    headers.opportunityId = null;
    return body;
}

def offerInfo = body.CustomObject1QueryPage_Output.ListOfCustomObject1.CustomObject1;

if (offerInfo == null) {
    headers.opportunityId = null;
} else {
    headers.opportunityId = offerInfo.OpportunityId;
}

return body;