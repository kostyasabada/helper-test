<#--
    | typeof document            | ObjectId          | templateId
    | ---------------            | --------          | ----------
    | unsigned_lease_contract    | contractId        | 425170
    | signed_lease_contract      | contractId        | 425170
    | lease_contract_log_file    | businessPartnerId | 425174
    | unsigned_master_agreement  | businessPartnerId | 425174
    | signed_master_agreement    | businessPartnerId | 425174
    -->
<#switch headers.fileName>
    <#case "unsigned_lease_contract.pdf">
        <#assign objectId = body.contractId/>
        <#assign templateId = "425170"/>
        <#assign fileName = "unsigned_lease_contract.pdf"/>
        <#break>
    <#case "signed_lease_contract.pdf">
        <#assign objectId = body.contractId/>
        <#assign templateId = "425170"/>
        <#assign fileName = "signed_lease_contract.pdf"/>
        <#break>
    <#case "unsigned_master_lease_agreement.pdf">
        <#assign objectId = body.businessPartnerId/>
        <#assign templateId = "425174"/>
        <#assign fileName = "unsigned_master_lease_agreement.pdf"/>
        <#break>
    <#case "signed_master_lease_agreement.pdf">
        <#assign objectId = body.businessPartnerId/>
        <#assign templateId = "425174"/>
        <#assign fileName = "signed_master_lease_agreement.pdf"/>
        <#break>
    <#case "lease_contract_log_file.pdf">
        <#assign objectId = body.businessPartnerId/>
        <#assign templateId = "425174"/>
        <#assign fileName = "lease_contract_log_file.pdf"/>
        <#break>
    <#case "master_lease_agreement_log_file.pdf">
        <#assign objectId = body.businessPartnerId/>
        <#assign templateId = "425174"/>
        <#assign fileName = "master_lease_agreement_log_file.pdf"/>
        <#break>
    <#default>
        <#-- help! don't know what to do, so will force an error-->
        <#assign objectId = 0/>
        <#assign templateId = 0/>
        <#assign fileName = ""/>
        <#break>
</#switch>

<#macro checkNode key value>
    <#switch key>
        <#case "fileName">${headers.fileName}<#break>
        <#case "contnent">${}<#break>
        <#default>${value}<#break>
    </#switch>
</#macro>

<?xml version="1.0" encoding="UTF-8"?>
<SofEnvelope>
  <objectid>${objectId}</objectid>
  <documenttemplateid>${templateId}</documenttemplateid>
  <doclanguageid>4</doclanguageid>
  <sessionID>${body.MILES_sessionID}</sessionID>
  <data>
    <MWSByteContent>
    <@JSONToXML node=body.data.MWSByteContent shallow=true check=true />
    </MWSByteContent>
  </data>
</SofEnvelope>

<mws>
<fileName>
<c>

